@startuml
skinparam componentStyle uml2
skinparam component {
    BackgroundColor #2C5773
    FontColor white
    BorderColor Black
}

package "ROS2 Integration" {
    [ROS2 Node] as ros_node
    [Message Bridge] as msg_bridge
    [Service Handler] as service
    interface "ROS2 Messages" as ros_msgs
    interface "ROS2 Services" as ros_services
}

package "Core System" {
    [Interface Adapter] as adapter
    [Message Converter] as converter
    [Plan Validator] as validator
}

' Message Types
class PlanRequest {
    +goal: String
    +constraints: Dict
}

class PlanResponse {
    +success: Boolean
    +plan: Dict
    +message: String
}

class ValidationRequest {
    +plan: Dict
}

class ValidationResponse {
    +valid: Boolean
    +errors: List
}

' Connections
ros_node --> msg_bridge
msg_bridge --> service
service --> adapter
adapter --> converter
converter --> validator

ros_msgs -- ros_node
ros_services -- service

PlanRequest .. ros_msgs
PlanResponse .. ros_msgs
ValidationRequest .. ros_services
ValidationResponse .. ros_services

note right of ros_node
    Minimal ROS2 dependencies
    contained in this package
end note

note right of msg_bridge
    Converts between ROS2 and
    internal message formats
end note

@enduml 